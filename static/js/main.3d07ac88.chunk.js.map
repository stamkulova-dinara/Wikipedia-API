{"version":3,"sources":["hooks/useWikipedia.js","components/Page.jsx","App.js","index.js"],"names":["useWikipedia","initial","useState","search","setSearch","results","setResults","Kgresults","setKgResults","handleSearch","e","a","preventDefault","ruRequest","fetch","response","ok","Error","statusText","json","console","log","query","kgRequest","res","jsonKgInfo","onchange","target","value","Page","getPageUrl","lang","pageId","className","placeholder","onChange","onClick","length","map","el","i","title","dangerouslySetInnerHTML","__html","snippet","href","pageid","rel","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+PAkDeA,EAhDM,SAAEC,GACnB,MAA4BC,mBAASD,GAArC,mBAAOE,EAAP,KAAeC,EAAf,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KAEMC,EAAY,uCAAG,WAAMC,GAAN,yBAAAC,EAAA,yDACjBD,EAAEE,iBACa,KAAXT,EAFa,wDAIXU,EAJW,oJAKqDV,GALrD,SAOMW,MAAMD,GAPZ,WAOXE,EAPW,QAQHC,GARG,sBASPC,MAAMF,EAASG,YATR,wBAYEH,EAASI,OAZX,eAYXA,EAZW,OAajBC,QAAQC,IAAIF,GACZb,EAAWa,EAAKG,MAAMnB,QAEhBoB,EAhBW,oJAiBqDpB,GAjBrD,UAmBCW,MAAMS,GAnBP,YAmBXC,EAnBW,QAoBRR,GApBQ,uBAqBPC,MAAMO,EAAIN,YArBH,yBAwBQM,EAAIL,OAxBZ,QAwBXM,EAxBW,OAyBjBL,QAAQC,IAAII,GACZjB,EAAaiB,EAAWH,MAAMnB,QA1Bb,4CAAH,sDA+BlB,MAAO,CACHA,SACAuB,SAAU,SAAChB,GAAD,OAAON,EAAUM,EAAEiB,OAAOC,QACpCnB,eACAJ,UACAE,c,eCsBOsB,EA7DK,WAClB,MAA+D7B,IAAvDG,EAAR,EAAQA,OAAQuB,EAAhB,EAAgBA,SAAUjB,EAA1B,EAA0BA,aAAcJ,EAAxC,EAAwCA,QAASE,EAAjD,EAAiDA,UACjDa,QAAQC,IAAIhB,GAEZ,IAAMyB,EAAa,SAACC,EAAMC,GACxB,MAAM,WAAN,OAAkBD,EAAlB,iCAA+CC,IAGjD,OACE,sBAAKC,UAAU,YAAf,UACE,sBAAKA,UAAU,UAAf,UACE,uBACEC,YAAY,SACZN,MAAOzB,EACPgC,SAAUT,EACVO,UAAU,iBAEZ,wBAAQG,QAAS3B,EAAjB,uBAEF,sBAAKwB,UAAU,OAAf,UACA,sBAAKA,UAAU,UAAf,UACoB,IAAnB5B,EAAQgC,OACP,mBAAGJ,UAAU,OAAb,4MAEA,KAGC5B,EAAQiC,KAAI,SAACC,EAAIC,GAEhB,OACE,sBAAKP,UAAU,SAAf,UACE,6BAAKM,EAAGE,QACR,mBAAGC,wBAAyB,CAAEC,OAAQJ,EAAGK,WACzC,mBAAGC,KAAMf,EAAW,KAAMS,EAAGO,QAASnB,OAAO,QAAQoB,IAAI,aAAzD,4BAH2BP,SASnC,gCACoB,IAAnBnC,EAAQgC,OACP,mBAAGJ,UAAU,OAAb,iNAEA,KAEC1B,EAAU+B,KAAI,SAACC,EAAIC,GAClB,OACE,sBAAKP,UAAU,SAAf,UACE,6BAAKM,EAAGE,QACR,mBAAGC,wBAAyB,CAAEC,OAAQJ,EAAGK,WACzC,mBAAGC,KAAMf,EAAW,KAAMS,EAAGO,QAASnB,OAAO,QAAQoB,IAAI,aAAzD,4BAH2BP,gBCvC1BQ,MATf,WAEE,OACE,8BACE,cAAC,EAAD,OCFNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3d07ac88.chunk.js","sourcesContent":["import { useState } from 'react'\r\n\r\nconst useWikipedia = ( initial ) => {\r\n    const [search, setSearch] = useState(initial)\r\n    const [results, setResults] = useState([])\r\n    const [Kgresults, setKgResults] = useState([])\r\n\r\n    const handleSearch = async e => {\r\n        e.preventDefault();\r\n        if (search === '') return;\r\n\r\n        const ruRequest = `https://ru.wikipedia.org/w/api.php?action=query&list=search&\r\n        prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=20&srsearch=${search}`\r\n\r\n        const response = await fetch(ruRequest)\r\n        if (!response.ok) {\r\n            throw Error(response.statusText)\r\n        }\r\n\r\n        const json = await response.json();\r\n        console.log(json)\r\n        setResults(json.query.search)\r\n\r\n        const kgRequest = `https://ky.wikipedia.org/w/api.php?action=query&list=search&\r\n        prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=20&srsearch=${search}`\r\n\r\n        const res = await fetch(kgRequest)\r\n        if (!res.ok) {\r\n            throw Error(res.statusText)\r\n        }\r\n\r\n        const jsonKgInfo = await res.json();\r\n        console.log(jsonKgInfo)\r\n        setKgResults(jsonKgInfo.query.search)\r\n    }\r\n\r\n    // const urlInfoKg = `https://ky.wikipedia.org/?curid=${results.pageid}`;\r\n\r\n    return {\r\n        search,\r\n        onchange: (e) => setSearch(e.target.value),\r\n        handleSearch,\r\n        results,\r\n        Kgresults,\r\n        // urlInfoKg\r\n    }\r\n    \r\n   \r\n}\r\n\r\nexport default useWikipedia\r\n","import React from \"react\";\r\nimport useWikipedia from \"../hooks/useWikipedia\";\r\nimport \"./page.css\";\r\n\r\nexport const Page = () => {\r\n  const { search, onchange, handleSearch, results, Kgresults } = useWikipedia();\r\n  console.log(results)\r\n\r\n  const getPageUrl = (lang, pageId) => {\r\n    return `https://${lang}.wikipedia.org/?curid=${pageId}`;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"content\">\r\n        <input\r\n          placeholder=\"Search\"\r\n          value={search}\r\n          onChange={onchange}\r\n          className=\"search-input\"\r\n        />\r\n        <button onClick={handleSearch}>Search</button>\r\n      </div>\r\n      <div className='Info'>\r\n      <div className=\"results\">\r\n      {results.length !== 0 ? (\r\n        <p className='lang'>Информация найдена на русском языке</p>\r\n      ) : (\r\n        null\r\n      )}\r\n      \r\n        {results.map((el, i) => {\r\n           \r\n          return (\r\n            <div className=\"result\" key={i}>\r\n              <h3>{el.title}</h3>\r\n              <p dangerouslySetInnerHTML={{ __html: el.snippet }}></p>\r\n              <a href={getPageUrl('ru', el.pageid)} target='blank' rel='noreferrer'>...Read more</a>\r\n\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div>\r\n      {results.length !== 0 ? (\r\n        <p className='lang'>Кыргыз тилинде табылган маалыматтар</p>\r\n      ) : (\r\n        null\r\n      )}\r\n        {Kgresults.map((el, i) => {\r\n          return (\r\n            <div className=\"result\" key={i}>\r\n              <h3>{el.title}</h3>\r\n              <p dangerouslySetInnerHTML={{ __html: el.snippet }}></p>\r\n              <a href={getPageUrl('ky', el.pageid)} target='blank' rel='noreferrer'>...Read more</a>\r\n\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import './App.css';\nimport Page from './components/Page';\n\nfunction App () {\n  \n  return (\n    <div>\n      <Page/>     \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}